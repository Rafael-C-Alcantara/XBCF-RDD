library(devtools)
## Install latest version of XBART package if available
install_github("JingyuHe/XBART@XBCF-RDD")
library(XBART)
## Example data
set.seed(000)
mu <- function(W, X) return(0.1 * rowSums(W) + 1/(1+exp(-5*X)))
tau <- function(W, X) return( sin(mu(W, X)) + 1)
n <- 100
p <- 2
c <- 0 # Cutoff
w <- matrix(rnorm(n*p), n, p)
x <- rnorm(n,sd=.5)
z <- x >= c
y <- mu(w, x) + tau(w, x)*z + rnorm(n, 0, 0.1)
true.ate <- mean(tau(w,0))
## Estimation settings
### Owidth: overlap bandiwdth
### Omin: minimum number of observations inside overlap region for each leaf node
### Opct: If nb is the number of obs in node b, Opct*nb of them have to be inside overlap region
Owidth        <- seq(0.01,0.5,by=0.005)
Omin          <- 5
Opct          <- 0.9
num_trees_mod <- 10
num_trees_con <- 10
num_cutpoints <- n
Nmin          <- 10
num_sweeps    <- 20
burnin        <- 10
